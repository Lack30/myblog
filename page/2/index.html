<!DOCTYPE html>
<html lang="en">

<head>
	<meta name="generator" content="Hugo 0.87.0" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noodp" />
    <title class="pjax-title">lack çš„ä¸ªäººåšå®¢</title><meta name="Description" content=""><meta property="og:title" content="lack çš„ä¸ªäººåšå®¢" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://xingyys.tech/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="lack çš„ä¸ªäººåšå®¢"/>
<meta name="twitter:description" content=""/>
<meta name="application-name" content="lack çš„ä¸ªäººåšå®¢">
<meta name="apple-mobile-web-app-title" content="lack çš„ä¸ªäººåšå®¢">

<meta name="theme-color" content="#ffffff"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="canonical" href="http://xingyys.tech/" /><link rel="alternate" href="/index.xml" type="application/rss+xml" title="lack çš„ä¸ªäººåšå®¢">
    <link rel="feed" href="/index.xml" type="application/rss+xml" title="lack çš„ä¸ªäººåšå®¢"><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/fontawesome-free/all.min.css">
    <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'" href="/lib/animate/animate.min.css">
    <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "WebSite",
        "url": "http:\/\/xingyys.tech\/","inLanguage": "en","name": "lack çš„ä¸ªäººåšå®¢"
    }
    </script></head>

<body header-desktop="" header-mobile=""><script type="text/javascript">
        function setTheme(theme) {document.body.setAttribute('theme', theme);}
        function saveTheme(theme) {window.localStorage && localStorage.setItem('theme', theme);}
        function getMeta(metaName) {const metas = document.getElementsByTagName('meta'); for (let i = 0; i < metas.length; i++) if (metas[i].getAttribute('name') === metaName) return metas[i]; return '';}
        if (window.localStorage && localStorage.getItem('theme')) {let theme = localStorage.getItem('theme');theme === 'light' || theme === 'dark' || theme === 'black' ? setTheme(theme) : (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? setTheme('dark') : setTheme('light')); } else { if ('' === 'light' || '' === 'dark' || '' === 'black') setTheme(''), saveTheme(''); else saveTheme('auto'), window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? setTheme('dark') : setTheme('light');}
        let themeColorMeta = getMeta('theme-color');
        if (document.body.getAttribute('theme') != 'light') themeColorMeta.content = '#000000';
    </script>
    <div id="back-to-top"></div>
    <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="lack çš„ä¸ªäººåšå®¢">lack çš„ä¸ªäººåšå®¢</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> æ–‡ç«  </a><a class="menu-item" href="/tags/"> æ ‡ç­¾ </a><a class="menu-item" href="/categories/"> åˆ†ç±» </a><a class="menu-item" href="/about/"> å…³äº </a><a class="menu-item" href="/about/" title="å…³äº"> å…³äº </a><span class="menu-item delimiter"></span><a href="#" onclick="return false;" class="menu-item theme-switch" title="åˆ‡æ¢ä¸»é¢˜">
                    <i class="fas fa-adjust fa-fw"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="lack çš„ä¸ªäººåšå®¢">lack çš„ä¸ªäººåšå®¢</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/posts/" title="">æ–‡ç« </a><a class="menu-item" href="/tags/" title="">æ ‡ç­¾</a><a class="menu-item" href="/categories/" title="">åˆ†ç±»</a><a class="menu-item" href="/about/" title="">å…³äº</a><a class="menu-item" href="/about/" title="å…³äº">å…³äº</a><a href="#" onclick="return false;" class="menu-item theme-switch" title="åˆ‡æ¢ä¸»é¢˜">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
            <div class="container"><div class="page home" posts><div class="home-profile"></div>
<article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/pgsql%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8/">postgresql å®æˆ˜ä¸€ï¼šå®‰è£…å’Œä½¿ç”¨</a>
    </h1><div class="post-meta">
        <span class="post-author"><i class="author fas fa-user-circle fa-fw"></i><a href="/" title="Author" rel=" author" class="author">ä½œè€…</a>
        </span>&nbsp;<span class="post-publish">å‘å¸ƒäº <time datetime="2020-10-13">2020-10-13</time></span>&nbsp;<span class="post-category">æ”¶å½•äº </span>&nbsp;<span class="post-category">ç±»åˆ« <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"><i class="far fa-folder fa-fw"></i>æ•°æ®åº“</a></span></div><div class="content">å®‰è£… è¿™é‡Œç›´æ¥ä½¿ç”¨ docker å®‰è£… postgresql-13
docker run --name postgresql13 -e POSTGRES_PASSWORD=123456 -p 54322:5432 -d postgres:13 å®‰è£…æˆåŠŸåä¼šç»‘å®šä¸»æœºç«¯å£ 54322ã€‚ç›´æ¥è¿›å…¥ postgresql13 å®¹å™¨ï¼Œä½¿ç”¨ pgsqlã€‚
[root@localhost ~]# docker exec -it 3e3b03e3 /bin/bash root@3e3b03e3e442:/# psql -h localhost -p 5432 -U postgres psql (13.0 (Debian 13.0-1.pgdg100+1)) Type &#34;help&#34; for help. postgres=# psql æ˜¯ pgsql çš„å®¢æˆ·ç«¯å‘½ä»¤ï¼Œä½¿ç”¨å‚æ•°å¦‚ä¸‹ï¼š
 -hï¼šæŒ‡å®š pgsql çš„åœ°å€ -pï¼šæŒ‡å®š pgsql çš„ç»‘å®šç«¯å£ -Uï¼šæŒ‡å®šç™»å½•çš„ç”¨æˆ·åï¼Œé»˜è®¤ä¸º postgresã€‚åé¢å¯ä»¥ç´§æ¥ &ldquo;database&rdquo;ï¼Œç›´æ¥è¿›å…¥æŒ‡å®šçš„æ•°æ®åº“ã€‚   æ•°æ®åº“çš„æ“ä½œ postgresql æ”¯æŒçš„æ•°æ®åº“æ“ä½œæœ‰ å¢ã€åˆ ã€æŸ¥ã€æ”¹ åˆ›å»ºæ•°æ®åº“ åˆ›å»ºæ•°æ®åº“çš„å‘½ä»¤ä¸ºï¼š create database &lt;databasename&gt; [encoding 'UTF-8']Â postgres=#createdatabasetestencoding&#39;UTF-8&#39;;CREATEDATABASEæŸ¥è¯¢æ•°æ®åº“ æŸ¥è¯¢æ•°æ®åº“çš„å‘½ä»¤æœ‰ä¸¤ç§ï¼šç¬¬ä¸€ç§æ˜¯ \lÂ ï¼Œåªèƒ½åœ¨ psql ä¸­ä½¿ç”¨ï¼š</div><div class="post-footer">
        <a href="/posts/pgsql%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8/">é˜…è¯»å…¨æ–‡</a><div class="post-tags">
                <i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/postgresql/">postgreSQL</a>,&nbsp;<a href="/tags/database/">database</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/golang%E8%B7%A8%E5%B9%B3%E5%8F%B0%E7%BC%96%E8%AF%91/">Golangè·¨å¹³å°ç¼–è¯‘</a>
    </h1><div class="post-meta">
        <span class="post-author"><i class="author fas fa-user-circle fa-fw"></i><a href="/" title="Author" rel=" author" class="author">ä½œè€…</a>
        </span>&nbsp;<span class="post-publish">å‘å¸ƒäº <time datetime="2020-09-10">2020-09-10</time></span>&nbsp;<span class="post-category">æ”¶å½•äº </span>&nbsp;<span class="post-category">ç±»åˆ« <a href="/categories/%E9%9A%8F%E7%AC%94/"><i class="far fa-folder fa-fw"></i>éšç¬”</a></span></div><div class="content">golang cgo åˆ° Windows çš„äº¤å‰ç¼–è¯‘ æœ¬ç¯‡è®°å½•åœ¨ MaxOS ä¸‹ cgo äº¤å‰ç¼–è¯‘çš„è§£å†³æ–¹æ¡ˆã€‚å› ä¸ºåœ¨é¡¹ç›®ä¸­ä½¿ç”¨ go-sqlite3 ï¼Œç¼–è¯‘ go-sqlite3 ä¸­éœ€è¦ä½¿ç”¨åˆ° cgoã€‚åœ¨ MacOS ä¸‹ç¼–è¯‘ Go åŸç”Ÿ Linux å’Œ Windows çš„ç¨‹åºä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š
# äº¤å‰ç¼–è¯‘åˆ° linux GOOS=linux GOARCH=amd64 go build main.go # äº¤å‰ç¼–è¯‘åˆ° windows GOOS=windows GOARCH=amd64 go build -o main.exe main.go å¦‚æœä½¿ç”¨ cgo çš„è¯ï¼Œè¿˜éœ€è¦æ·»åŠ  CGO_ENABLEDÂ å‚æ•°ï¼š
CGO_ENABLED=1 GOOS=windows GOARCH=amd64 go build -o main.exe main.go ä½†æ˜¯è¿™ç§ç¼–è¯‘ go-sqlite3 çš„ä»£ç ä¼šå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š
# runtime/cgo gcc_libinit_windows.c:7:10: fatal error: &#39;windows.h&#39; file not found å› ä¸º Windows ä¸­ä½¿ç”¨ MinGWï¼ŒMacOS ä¸‹å¦‚æœäº¤å‰ç¼–è¯‘éœ€è¦å®‰è£… C/C++ äº¤å‰ç¼–è¯‘å·¥å…·ï¼š</div><div class="post-footer">
        <a href="/posts/golang%E8%B7%A8%E5%B9%B3%E5%8F%B0%E7%BC%96%E8%AF%91/">é˜…è¯»å…¨æ–‡</a><div class="post-tags">
                <i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/golang/">golang</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/scst%E7%BB%93%E5%90%88fc/">Scstç»“åˆFC</a>
    </h1><div class="post-meta">
        <span class="post-author"><i class="author fas fa-user-circle fa-fw"></i><a href="/" title="Author" rel=" author" class="author">ä½œè€…</a>
        </span>&nbsp;<span class="post-publish">å‘å¸ƒäº <time datetime="2020-08-06">2020-08-06</time></span>&nbsp;<span class="post-category">æ”¶å½•äº </span>&nbsp;<span class="post-category">ç±»åˆ« <a href="/categories/%E8%BF%90%E7%BB%B4/"><i class="far fa-folder fa-fw"></i>è¿ç»´</a></span></div><div class="content">SCST æ˜¯ iscsi çš„ä¸€ç§å®ç°æ–¹å¼ï¼Œå®ƒæ—¢å¯ä»¥ä½¿ç”¨ iscsi åè®®å…±äº«æœ¬åœ°ç£ç›˜ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒ FC åè®®ã€‚FC åè®®éœ€è¦ç¡¬ä»¶ FC HBA å¡çš„æ”¯æŒã€‚ SCST å’Œ FC çš„ç¯å¢ƒæ­å»ºå¦‚ä¸‹çœ‹è¿™é‡Œ ã€‚
ç¯å¢ƒé…ç½® æ¥ä¸‹æ¥ SCST å’Œ FC çš„ä½¿ç”¨ã€‚é¦–å…ˆéœ€è¦æœ‰ scst çš„ç¯å¢ƒï¼š ä¿è¯ linux å†…æ ¸ä¸­åŠ è½½äº† qlaã€‚ä½¿ç”¨ scstadm æŸ¥çœ‹æ‰€æ”¯æŒçš„é©±åŠ¨ï¼šå¦‚æœä½¿ç”¨ FC å»å…±äº«ç£ç›˜ï¼Œscst éœ€è¦åˆ›å»ºå’Œ FC è®¾å¤‡å¯¹åº”çš„ targetã€‚FC è®¾å¤‡å’Œ target å±äºä¸€å¯¹ä¸€å…³ç³»ï¼Œè€Œä¸”åˆ›å»º target çš„åç§°è¦å’Œ FC è®¾å¤‡çš„ ID ç›¸åŒã€‚æŸ¥çœ‹ FC è®¾å¤‡çš„ ID å¯ä»¥ç”¨ä»¥ä¸‹çš„æ–¹å¼ï¼š1.æŸ¥çœ‹å†…æ ¸ä¸­ qla2x00t (/sys/kernel/scst_tgt/targets/qla2x00t) ç›®å½•ä¸‹çš„å†…å®¹2.ç›´æ¥æŸ¥çœ‹ FC è®¾å¤‡çš„ port_id (/sys/class/fc_host/hostx/port_name)ï¼Œé…ç½® FC SCST æœåŠ¡ç«¯é…ç½® åˆ›å»º target, FC è®¾å¤‡å’Œ target ä¸€å¯¹ä¸€ã€‚
scstadmin -add_target 50:01:10:a0:00:16:bf:30 -driver qla2x00t åˆ›å»º device å¯¹åº”æœ¬åœ°çš„å—æ–‡ä»¶</div><div class="post-footer">
        <a href="/posts/scst%E7%BB%93%E5%90%88fc/">é˜…è¯»å…¨æ–‡</a><div class="post-tags">
                <i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/iscsi/">iscsi</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/grpc1/">GPRC å®æˆ˜</a>
    </h1><div class="post-meta">
        <span class="post-author"><i class="author fas fa-user-circle fa-fw"></i><a href="/" title="Author" rel=" author" class="author">ä½œè€…</a>
        </span>&nbsp;<span class="post-publish">å‘å¸ƒäº <time datetime="2020-07-31">2020-07-31</time></span>&nbsp;<span class="post-category">æ”¶å½•äº </span>&nbsp;<span class="post-category">ç±»åˆ« <a href="/categories/%E5%BE%AE%E6%9C%8D%E5%8A%A1/"><i class="far fa-folder fa-fw"></i>å¾®æœåŠ¡</a>&nbsp;<a href="/categories/%E4%BB%A3%E7%A0%81/"><i class="far fa-folder fa-fw"></i>ä»£ç </a></span></div><div class="content">GRPC ç®€ä»‹ grpc æ˜¯ç”± google å¼€å‘çš„ä¸€æ¬¾å¼€æºï¼Œé«˜æ€§èƒ½ rpcï¼ˆè¿œç¨‹è¿›ç¨‹è°ƒç”¨åè®®ï¼‰ä½¿ç”¨ Protocol Buffers ä½œä¸ºæ•°æ®äº¤æ¢æ ¼å¼ã€‚
GRPC å®‰è£… golang ä½¿ç”¨ grpc è¦å®‰è£… grpc-go, protoc å’Œ å¯¹åº”çš„æ’ä»¶ã€‚å®‰è£…grpc-go go get -u github.com/golang/protobuf/{proto,protoc-gen-go} go get -u google.golang.org/grpc å¦‚æœæ˜¯å›½å†…ç”¨æˆ·æ— æ³•è¿æ¥åˆ° google.golang.org çš„è¯å¯ä»¥ä½¿ç”¨ VPNã€‚æˆ–è€…ç›´æ¥ä» github.com ç›´æ¥ä¸‹è½½æºä»£ç å†ç¼–è¯‘å®‰è£…git clone https://github.com/grpc/grpc-go.git $GOPATH/src/google.golang.org/grpc go get -u google.golang.org/grpc å®‰è£… protoc golang è¦ä½¿ç”¨ grpcï¼Œè¿˜éœ€è¦ä½¿ç”¨ protoc å·¥å…·ã€‚å› ä¸º golang ä¸èƒ½ç›´æ¥è¯†åˆ« .proto æ–‡ä»¶ï¼Œéœ€è¦ä½¿ç”¨ protoc å·¥å…·å°† .proto è½¬åŒ–æˆ golang ä»£ç ã€‚ä¸‹é¢ä»‹ç»å‡ ä¸ªå¹³å°ä¸‹å®‰è£… protobuf çš„æ–¹æ³•ã€‚macos macos ä¸‹å®‰è£…ç›´æ¥ä½¿ç”¨ brew å‘½ä»¤å³å¯ã€‚brew install protobuf linux linux ä¸‹éœ€è¦å…ˆä» github.com ä¸‹è½½ protobuf æºç æˆ–è€…äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä¸‹è½½åœ°å€ã€‚äºŒè¿›åˆ¶å®‰è£…çš„è¯å°±ä¸‹è½½ protobuf-all-*.</div><div class="post-footer">
        <a href="/posts/grpc1/">é˜…è¯»å…¨æ–‡</a><div class="post-tags">
                <i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/golang/">golang</a>,&nbsp;<a href="/tags/grpc/">grpc</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/grpc2/">GPRC è¿›é˜¶</a>
    </h1><div class="post-meta">
        <span class="post-author"><i class="author fas fa-user-circle fa-fw"></i><a href="/" title="Author" rel=" author" class="author">ä½œè€…</a>
        </span>&nbsp;<span class="post-publish">å‘å¸ƒäº <time datetime="2020-07-31">2020-07-31</time></span>&nbsp;<span class="post-category">æ”¶å½•äº </span>&nbsp;<span class="post-category">ç±»åˆ« <a href="/categories/%E5%BE%AE%E6%9C%8D%E5%8A%A1/"><i class="far fa-folder fa-fw"></i>å¾®æœåŠ¡</a>&nbsp;<a href="/categories/%E4%BB%A3%E7%A0%81/"><i class="far fa-folder fa-fw"></i>ä»£ç </a></span></div><div class="content">grpc é™¤äº†æä¾›å››ç§è¯·æ±‚ç±»å‹ä¹‹å¤–ï¼Œè¿˜æ”¯æŒå¾ˆå¤šé«˜çº§åŠŸèƒ½ï¼škeepaliveã€è¯·æ±‚é‡è¯•ã€è´Ÿè½½å‡è¡¡ã€ç”¨æˆ·éªŒè¯ç­‰ã€‚æ¥ä¸‹æ¥ä¸€ä¸€ä»‹ç»ã€‚GRPC è¿›é˜¶åŠŸèƒ½  æ¯ä¸ªgrpcè¯·æ±‚éƒ½æ˜¯ streamã€‚
 Keepalive Keepalive èƒ½å¤Ÿè®© grpc çš„æ¯ä¸ª stream ä¿æŒé•¿è¿æ¥çŠ¶æ€ï¼Œé€‚åˆä¸€äº›æ‰§è¡Œæ—¶é—´é•¿çš„è¯·æ±‚ã€‚Keepalive æ”¯æŒåœ¨æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯é…ç½®ï¼Œä¸”åªæœ‰æœåŠ¡ç«¯é…ç½®åï¼Œå®¢æˆ·ç«¯çš„é…ç½®æ‰ä¼šçœŸæ­£æœ‰æ•ˆã€‚å…ˆç»™å‡ºå®ä¾‹çš„ä»£ç åœ¨æ¥è¯´æ˜ grpc keepalive çš„ä½¿ç”¨æƒ…å†µï¼šserver å®ç°ï¼š// ... var kaep = keepalive.EnforcementPolicy{ MinTime: 5 * time.Second, // If a client pings more than once every 5 seconds, terminate the connection 	PermitWithoutStream: true, // Allow pings even when there are no active streams } var kasp = keepalive.ServerParameters{ MaxConnectionIdle: 15 * time.Second, // If a client is idle for 15 seconds, send a GOAWAY 	MaxConnectionAge: 30 * time.</div><div class="post-footer">
        <a href="/posts/grpc2/">é˜…è¯»å…¨æ–‡</a><div class="post-tags">
                <i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/golang/">golang</a>,&nbsp;<a href="/tags/grpc/">grpc</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/scst%E5%9C%A8%E7%BA%BF%E6%89%A9%E5%AE%B9/">Scståœ¨çº¿æ‰©å®¹</a>
    </h1><div class="post-meta">
        <span class="post-author"><i class="author fas fa-user-circle fa-fw"></i><a href="/" title="Author" rel=" author" class="author">ä½œè€…</a>
        </span>&nbsp;<span class="post-publish">å‘å¸ƒäº <time datetime="2020-04-09">2020-04-09</time></span>&nbsp;<span class="post-category">æ”¶å½•äº </span>&nbsp;<span class="post-category">ç±»åˆ« <a href="/categories/%E8%BF%90%E7%BB%B4/"><i class="far fa-folder fa-fw"></i>è¿ç»´</a></span></div><div class="content">SCST å…±äº«çš„ç£ç›˜æ”¯æŒåœ¨çº¿æ‰©å®¹ã€‚æ“ä½œå¦‚ä¸‹ï¼š scst æœåŠ¡ç«¯ é¦–å…ˆæœ‰ä¸€å— zfs å­˜å‚¨å·ï¼Œç°åœ¨å°†å…¶å®¹é‡ä» 15G æ‰©å±•åˆ° 20Gã€‚
zfs set volsize=20G tank/vol ä¿®æ”¹ scst ä¸­ device çš„ size å±æ€§
scstadmin -set_dev_attr device1 -attributes size=21474836480 -noprompt iscsi å®¢æˆ·ç«¯ é‡æ–°æ‰«æ target
iscsiadm -m node --target &lt;target_name&gt; -R æ‰©å±•ç£ç›˜å®¹é‡ï¼Œå¦‚æœç£ç›˜å­˜å‚¨ mount çŠ¶æ€åˆ™å…ˆ umountã€‚
resize2fs /dev/sdX e2fsck -f /dev/sdX resize2fs /dev/sdX é‡æ–°æŒ‚è½½ï¼Œä½¿ç”¨ dfÂ å³å¯å‘ç°ç£ç›˜çš„å®¹é‡è¢«ä¿®æ”¹ã€‚ FC å®¢æˆ·ç«¯ é‡æ–°æ‰«æ FC host
echo &#34;- - -&#34; &gt; /sys/class/scst_host/hostX/scan æ‰©å±•ç£ç›˜å®¹é‡å¦‚ä¸Šã€‚</div><div class="post-footer">
        <a href="/posts/scst%E5%9C%A8%E7%BA%BF%E6%89%A9%E5%AE%B9/">é˜…è¯»å…¨æ–‡</a><div class="post-tags">
                <i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/iscsi/">iscsi</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/scst%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8/">Scst å®‰è£…å’Œä½¿ç”¨</a>
    </h1><div class="post-meta">
        <span class="post-author"><i class="author fas fa-user-circle fa-fw"></i><a href="/" title="Author" rel=" author" class="author">ä½œè€…</a>
        </span>&nbsp;<span class="post-publish">å‘å¸ƒäº <time datetime="2020-04-08">2020-04-08</time></span>&nbsp;<span class="post-category">æ”¶å½•äº </span>&nbsp;<span class="post-category">ç±»åˆ« <a href="/categories/%E8%BF%90%E7%BB%B4/"><i class="far fa-folder fa-fw"></i>è¿ç»´</a></span></div><div class="content">å®‰è£… scst å®‰è£… scst
wget https://ncu.dl.sourceforge.net/project/scst/scst-3.2.0.7058.tar.bz2 yum install bzip2 bunzip2 scst-3.2.0.7058.tar.bz2 tar xf scst-3.2.0.7058.tar ç¼–è¯‘å®‰è£…scst
make 2perf make scst make scst_install make iscsi make iscsi_install make scstadm make scstadm_install æŸ¥çœ‹æ˜¯å¦è¢«åŠ è½½åˆ°å†…æ ¸äº†
lsmod |grep scst modinfo scst å¯åŠ¨ scst
modprobe scst modprobe scst_vdisk modprobe scst_disk modprobe scst_user modprobe scst_modisk modprobe scst_processor modprobe scst_raid modprobe scst_tape modprobe scst_cdrom modprobe scst_changer modprobe iscsi-scst iscsi-scstd åˆ›å»ºæµç¨‹ åˆ›å»º target
scstadmin -add_target iqn.1994-05.com.redhat:pv -driver iscsi åˆ›å»º block</div><div class="post-footer">
        <a href="/posts/scst%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8/">é˜…è¯»å…¨æ–‡</a><div class="post-tags">
                <i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/iscsi/">iscsi</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/%E5%AE%89%E8%A3%85oh-my-zsh/">linux å®‰è£… oh-my-zsh</a>
    </h1><div class="post-meta">
        <span class="post-author"><i class="author fas fa-user-circle fa-fw"></i><a href="/" title="Author" rel=" author" class="author">ä½œè€…</a>
        </span>&nbsp;<span class="post-publish">å‘å¸ƒäº <time datetime="2020-02-09">2020-02-09</time></span>&nbsp;<span class="post-category">æ”¶å½•äº </span>&nbsp;<span class="post-category">ç±»åˆ« <a href="/categories/%E5%85%B6%E4%BB%96/"><i class="far fa-folder fa-fw"></i>å…¶ä»–</a></span></div><div class="content">ä¸€ã€ä»‹ç» oh-my-zsh æ˜¯ä¸€æ¬¾å‘½ä»¤è¡Œå·¥å…·ï¼Œåœ¨zshçš„åŸºç¡€ä¸Šæ·»åŠ äº†è®¸å¤šçš„æ–°åŠŸèƒ½ã€‚æ¥ä¸‹æ¥å°±æ¥å®‰è£…å¹¶ä½¿ç”¨ä»–ã€‚äºŒã€å®‰è£… oh-my-zsh oh-my-zsh æ˜¯åœ¨ zsh çš„åŸºç¡€ä¸Šä½¿ç”¨çš„ï¼Œæ‰€ä»¥è¦å°±å®‰è£…zshã€‚ä¸€èˆ¬linuxå‘è¡Œç‰ˆé»˜è®¤ä½¿ç”¨bashã€‚ä»¥ä¸‹ç¯å¢ƒä¸ºCentOS7ã€‚ä½¿ç”¨ yum å®‰è£… zsh
$ yum install zsh å®‰è£…å®Œæˆåï¼Œæ›¿æ¢é»˜è®¤çš„ bash ä¸º zshã€‚éœ€è¦åœ¨ root ç”¨æˆ·ä¸‹ä½¿ç”¨
$ chsh -s /bin/zsh Changing shell for root. Shell changed. # åœ¨æ–°ç»ˆç«¯ä¸­éªŒè¯ $ echo $SHELL /bin/zsh æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è‡ªåŠ¨å®‰è£… oh-my-zsh
$ wget https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - | sh # çœç•¥è¾“å‡º... $ source .zshrc # .zshrc ä¸º zsh çš„é…ç½®æ–‡ä»¶ ä¸‰ã€é…ç½® oh-my-zsh æ¥ä¸‹æ¥è¿˜è¦æ·»åŠ é¢å¤–çš„åŠŸèƒ½ã€‚oh-my-zsh æ”¯æŒå¾ˆå¤šå¼ºå¤§çš„åŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½éƒ½æ˜¯ä»¥æ’ä»¶çš„æ–¹å¼å®ç°ã€‚æ’ä»¶æ”¾åœ¨ç›®å½•~/.oh-my-zsh/plugins ä¸‹ã€‚è¦è®©æ’ä»¶å¼€å§‹å·¥ä½œè¿˜éœ€è¦åœ¨ .zshrc ä¸­é…ç½®ç›¸å…³å‚æ•°ã€‚
plugins=(git textmate ruby autojump osx mvn gradle) autojump ä½œç”¨ç›®å½•é—´å¿«é€Ÿè·³è½¬,ä¸ç”¨å†ä¸€ç›´ cd äº† ğŸ˜**ä½¿ç”¨Â **ä½¿ç”¨ autojump çš„ç¼©å†™ jcd å‘½ä»¤è¿›å…¥ ~/user/github/Youthink æ–‡ä»¶å¤¹ï¼Œä¸‹ä¸€æ¬¡å†æƒ³è¿›å…¥ Yourhink æ–‡ä»¶å¤¹çš„æ—¶å€™,ç›´æ¥ j youthink å³å¯, æˆ–è€…åªè¾“å…¥ youthink çš„ä¸€éƒ¨åˆ† youth éƒ½è¡Œåˆ é™¤æ— æ•ˆè·¯å¾„</div><div class="post-footer">
        <a href="/posts/%E5%AE%89%E8%A3%85oh-my-zsh/">é˜…è¯»å…¨æ–‡</a><div class="post-tags">
                <i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/linux/">linux</a>,&nbsp;<a href="/tags/%E7%BB%88%E7%AB%AF/">ç»ˆç«¯</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/aix1/">Aixæ·»åŠ å’Œåˆ é™¤Iscsiå­˜å‚¨å·</a>
    </h1><div class="post-meta">
        <span class="post-author"><i class="author fas fa-user-circle fa-fw"></i><a href="/" title="Author" rel=" author" class="author">ä½œè€…</a>
        </span>&nbsp;<span class="post-publish">å‘å¸ƒäº <time datetime="2019-10-22">2019-10-22</time></span>&nbsp;<span class="post-category">æ”¶å½•äº </span>&nbsp;<span class="post-category">ç±»åˆ« <a href="/categories/%E9%9A%8F%E7%AC%94/"><i class="far fa-folder fa-fw"></i>éšç¬”</a></span></div><div class="content">Aixä¸º6.1ç‰ˆæœ¬
 ä½¿ç”¨iscsiå­˜å‚¨ é¦–å…ˆéœ€è¦åˆ›å»ºä¸€ä¸ªiscsi targetï¼Œå¹¶å…±äº«åˆ°IBM Aixä¸Šã€‚
æ£€æŸ¥iscsiæ˜¯å¦è¢«å®‰è£… $ lslpp -L | grep -i iscsi devices.common.IBM.iscsi.rte 6.1.5.0 C F Common iSCSI Files devices.iscsi.disk.rte 6.1.5.0 C F iSCSI Disk Software ... é…ç½®iscsi $ vi /etc/iscsi/targets ... # æ·»åŠ target 172.16.1.169 3260 iqn.2018-11.com.howlink.wbrt.portal.backup é‡æ–°æ‰«ç›˜ $ cfgmgr -l iscsi0 cfgmgr: 0514-621 WARNING: The following device packages are required for device support but are not currently installed. devices.iscsi.array æŸ¥çœ‹iscsiç›˜ $ lsdev -Cc disk | grep iSCSI hdisk18 Available Other iSCSI Disk Drive åˆ›å»ºç‰©ç†å· $ chdev -l hdisk18 -a pv=yes åˆ›å»ºvg $ mkvg -y wbrt_portal_bg hdisk18 åˆ›å»ºlv $ mklv -t jfs2 -y wbrt_portal_bl wbrt_portal_bg 700  æ³¨:lvçš„å¤§å°å¯ä»¥ä½¿ç”¨å‘½ä»¤ $ lsvg wbrt_portal_bg | grep &quot;TOTAL PPs&quot; | awk -F' ' '{ print $6}' 703 ä½†ä¸è¦å…¨éƒ¨ä½¿ç”¨ï¼Œéœ€è¦ä¸€äº›å‰©ä½™ç©ºé—´ã€‚</div><div class="post-footer">
        <a href="/posts/aix1/">é˜…è¯»å…¨æ–‡</a><div class="post-tags">
                <i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/aix/">aix</a></div></div>
</article><article class="single summary" itemscope itemtype="http://schema.org/Article"><h1 class="single-title" itemprop="name headline">
        <a href="/posts/%E4%BD%BF%E7%94%A8kubeadm%E5%AE%89%E8%A3%85kubernetes1.16/">ä½¿ç”¨kubeadmå®‰è£…kubernetes1.16</a>
    </h1><div class="post-meta">
        <span class="post-author"><i class="author fas fa-user-circle fa-fw"></i><a href="/" title="Author" rel=" author" class="author">ä½œè€…</a>
        </span>&nbsp;<span class="post-publish">å‘å¸ƒäº <time datetime="2019-10-19">2019-10-19</time></span>&nbsp;<span class="post-category">æ”¶å½•äº </span>&nbsp;<span class="post-category">ç±»åˆ« <a href="/categories/%E4%BA%91%E8%AE%A1%E7%AE%97/"><i class="far fa-folder fa-fw"></i>äº‘è®¡ç®—</a></span></div><div class="content">ç¯å¢ƒç‰ˆæœ¬è¯´æ˜ï¼š
 ä¸‰å°vmwareè™šæ‹Ÿæœºï¼Œç³»ç»Ÿç‰ˆæœ¬CentOS7.6ã€‚ Kubernetes 1.16.0ï¼Œå½“å‰æœ€æ–°ç‰ˆã€‚ flannel v0.11 docker 18.09  ä½¿ç”¨kubeadmå¯ä»¥ç®€å•çš„æ­å»ºä¸€å¥—k8sé›†ç¾¤ç¯å¢ƒï¼Œè€Œä¸ç”¨å…³æ³¨å®‰è£…éƒ¨ç½²çš„ç»†èŠ‚ï¼Œè€Œä¸”ç°åœ¨k8sçš„ç‰ˆæœ¬æ›´æ–°é¢‘ç‡å¾ˆå¿«ï¼Œæ‰€ä»¥è¿™ç§æ–¹æ³•ååˆ†æ¨èã€‚
ç›¸å…³å‡†å¤‡  æ³¨ï¼šæœ¬èŠ‚ç›¸å…³æ“ä½œè¦åœ¨æ‰€æœ‰èŠ‚ç‚¹ä¸Šæ‰§è¡Œã€‚
 ç¡¬ä»¶ç¯å¢ƒ ä½¿ç”¨ä¸‰å°vmwareè™šæ‹Ÿæœºï¼Œé…ç½®ç½‘ç»œï¼Œå¹¶ä¿è¯å¯ä»¥è”ç½‘ã€‚
 k8s-master 4G 4æ ¸ CentOS7 192.168.10.20 k8s-node1 2G 2æ ¸ CentOS7 192.168.10.21 k8s-node2 2G 2æ ¸ CentOS7 192.168.10.22  ä¸»æœºåˆ’åˆ†  k8s-masterä½œä¸ºé›†ç¾¤ç®¡ç†èŠ‚ç‚¹ï¼šetcd kubeadm kube-apiserver kube-scheduler kube-controller-manager kubelet flanneld docker k8s-node1ä½œä¸ºå·¥ä½œèŠ‚ç‚¹ï¼škubeadm kubelet flanneld docker k8s-node2ä½œä¸ºå·¥ä½œèŠ‚ç‚¹ï¼škubeadm kubelet flanneld docker  å‡†å¤‡å·¥ä½œ å®‰è£…å¿…è¦çš„rpmè½¯ä»¶ï¼š
yum install -y wget vim net-tools epel-release å…³é—­é˜²ç«å¢™
systemctl disable firewalld systemctl stop firewalld å…³é—­selinux</div><div class="post-footer">
        <a href="/posts/%E4%BD%BF%E7%94%A8kubeadm%E5%AE%89%E8%A3%85kubernetes1.16/">é˜…è¯»å…¨æ–‡</a><div class="post-tags">
                <i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/k8s/">k8s</a></div></div>
</article><ul class="pagination"><li class="page-item ">
                    <span class="page-link">
                        <a href="/">1</a>
                    </span>
                </li><li class="page-item active">
                    <span class="page-link">
                        <a href="/page/2/">2</a>
                    </span>
                </li><li class="page-item ">
                    <span class="page-link">
                        <a href="/page/3/">3</a>
                    </span>
                </li><li class="page-item ">
                    <span class="page-link">
                        <a href="/page/4/">4</a>
                    </span>
                </li><li class="page-item ">
                    <span class="page-link">
                        <a href="/page/5/">5</a>
                    </span>
                </li></ul></div></div>
        </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">ç”± <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.87.0">Hugo</a> å¼ºåŠ›é©±åŠ¨ | ä¸»é¢˜ - <a href="https://github.com/HEIGE-PCloud/DoIt" target="_blank" rel="noopener noreffer" title="DoIt 0.2.10"><i class="far fa-edit fa-fw"></i> DoIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2021</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank" rel="noopener noreferrer"></a></span></div>
        </div></footer></div>

    <div id="fixed-buttons"><a href="#back-to-top" id="back-to-top-button" class="fixed-button" title="å›åˆ°é¡¶éƒ¨">
            <i class="fas fa-arrow-up fa-fw"></i>
        </a><a href="#" id="view-comments" class="fixed-button" title="æŸ¥çœ‹è¯„è®º">
            <i class="fas fa-comment fa-fw"></i>
        </a>
    </div><div class="assets"><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/topbar/topbar.min.js"></script><script type="text/javascript" src="/lib/pjax/pjax.min.js"></script><script type="text/javascript" src="/js/theme.min.js"></script></div>

<div class="pjax-assets"><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"å¤åˆ¶åˆ°å‰ªè´´æ¿","maxShownLines":10}};</script></div>
</body>

</html>